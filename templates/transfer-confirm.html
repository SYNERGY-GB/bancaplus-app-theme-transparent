<ion-view cache-view="false" mz-screen>
    <ion-nav-title>{{params.title | translate }}</ion-nav-title>
    <ion-content>
    	<img ng-src="{{params.progressResource}}" class="full-image padding" />
    	<div class="mainContainer">
    		<div class="sectionTitle">
    			<h3>{{'transfer_confirm' | translate }}</h3>
    		</div>
    		<div class="secondaryContainer animated fadeIn">
                <div id="source">
                    <p class="subtitle" id="color"> {{'transfer_confirm_source_instrument' | translate}} </p>
                    <p class="subtitle">
                        {{::data.sourceInstrument.name}} {{::data.sourceInstrument.maskedAccountNumber | limitTo: -7}}
                    </p>
                    <hr/>
                </div>
                <div ng-repeat="section in data.transfers">
                    <p class="subtitle" id="color">{{::section.displayName}}</p>
        			<div ng-repeat="transfer in section.data">
        				<p class="subtitle"> 
                            {{::transfer.displayName}} {{::transfer.maskedAccountNumber | limitTo: -7}} 
                        </p>
                        <p class="subtitle" ng-if="transfer.conceptToDisplay"> 
                            {{::transfer.conceptToDisplay}} 
                        </p>
        				<div class="row">
        					<p class="col col-50 col-center subtitle"> {{'amount' | translate}} </p>
        					<h4 class="col col-50 col-center text-right amount"> 
                                <span class="bs">{{transfer.mainCurrency | translate}}</span>
                                <span class="bs">{{transfer.currency | translate}}</span> 
                                {{transfer.amountToDisplay | balanceFormatter}}  
                            </h4>
        				</div>
        				<hr ng-if="$index < section.data.length - 1"/>
        			</div>
                    <hr ng-if="$index < data.transfers.length - 1"/>
                </div>
    		</div>
    	</div>
	    <div class="text-center padding-top">
		    <button type="button" class="app-input button" ng-click="executeTransfers()"
                    ng-disabled="buttonDisabled">
		        <p>{{'next' | translate}} </p>
		    </button>
		</div>
    </ion-content>
</ion-view>